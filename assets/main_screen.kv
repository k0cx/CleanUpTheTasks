<MainScreen@RootScreenManager>:
    name: "task list screen"

    MDBoxLayout:
        orientation: "vertical"

        MDTopAppBar:
            # y: root.height - self.height
            type_height: "small"
            use_overflow: True
            elevation: 0
            opposite_colors: True
            title: "CUTT"
            left_action_items:  [["menu", lambda x: x]]
            right_action_items: [["dots-vertical", lambda x: x], ["magnify", lambda x: x]]
        
        MDBottomNavigation:
            id: bottom_nav_bar
            panel_color: "#ee6002"
            selected_color_background: 1, 1, 1, .7
            use_text: False
            # text_color_active: "lightgrey"
            # size_hint: 1, .5

            MDBottomNavigationItem:
                name: "tasks_list"
                icon: "format-list-text"
                # badge_icon: "numeric-10"
                # on_tab_release: app.root.current = "task list screen"

                ScrollView:
                    pos_hint: {"center_y": .5, "center_x": .5}
                    size_hint: .9, .8
                    bar_width: 5
                    do_scroll_x: False

                    MDList:
                        id: container

            MDBottomNavigationItem:
                name: "groups_view"
                icon: "collage"
                # badge_icon: "numeric-5"

                GroupsView:

            MDBottomNavigationItem:
                name: "add_task"
                icon: "pencil"

                AddTaskView:
                    id: add_task_v


<ListItemWithCheckbox>:
    id: the_list_item
    markup: True
    on_release:
        # app.root.transition.direction = "left"
        # app.root.current = "edit task screen"
        app.root.current_screen.ids.bottom_nav_bar.switch_tab("add_task")
        root.edit_task(the_list_item)
        # app.root.ids.add_task_view.ids.task_text.text = "text1"

    LeftCheckbox:
        id: check
        on_release: 
            root.mark(check, the_list_item)

    IconRightWidget:
        icon: 'trash-can-outline'
        theme_text_color: "Custom"
        text_color: 1, 0, 0, 1
        on_release:
            root.delete_item(the_list_item)