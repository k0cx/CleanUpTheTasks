<AddTask@MDBottomNavigationItem>

    MDBoxLayout:
        orientation: "vertical"
        padding:"20dp"
        # adaptive_height: True
        size_hint_x: 1

        # MDLabel:
        #     text: 'Add task'
        #     halign: 'center'
        
        MDTextField:
            id: task_text
            hint_text: "Task text"
            max_text_length: 50
            max_length_text_color: "red"
            required: True
            # on_text_validate: (root.add_task(task_text, date_text.text))

        ScrollView:
            pos_hint: {"center_x": .5, "center_y": .5}
            size_hint: .95, .95
            bar_width: 3
            do_scroll: False, True

            canvas.before:
                Color:
                    rgba: 0, 0, 0, .3
                Rectangle:
                    pos: self.pos
                    size: self.size

            MDTextField:
                id: task_description
                hint_text: "Description"
                max_text_length: 500
                # mode: "rectangle"
                max_length_text_color: "red"
                helper_text: "500"
                multiline: True
                required: False

        MDGridLayout:
            rows: 4
            cols: 2
            adaptive_height: True
            width: 1

            MDLabel:
                # spacing: "10dp"
                id: date_text
                halign: "right"
                text: "due date:"
            
            MDIconButton:
                icon: "calendar"
                on_release: root.date_picker()
                padding: "10dp"

            MDLabel:
                id: attachment
                # spacing: "10dp"
                halign: "right"
                text: "attach file:"
            
            MDIconButton:
                icon: "attachment"
                on_release: root.file_manager_open()
                padding: "10dp"

            MDLabel:
                id: project
                # spacing: "10dp"
                halign: "right"
                text: "project:"
            
            MDIconButton:
                icon: "collage"
                # on_release: app.date_picker()
                padding: "10dp"

            MDLabel:
                id: context
                # spacing: "10dp"
                halign: "right"
                text: "context:"
            
            MDIconButton:
                icon: "contain"
                # on_release: app.date_picker()
                padding: "10dp"

        MDGridLayout:
            orientation: "bt-rl"
            size_hint_x: 1
            adaptive_height: True
            rows: 1
            padding: 0, "20dp", "5dp", 0
            
            MDFlatButton:
                text: "[b]SAVE[/b]"
                font_size: "18sp"
                padding: "30dp", 0, "10dp", 0
                # on_release: (app.add_task(task_text, date_text.text), app.close_dialog())
                            
            MDFlatButton:
                halign: "right"
                text: "CANCEL"
                font_size: "18sp"
                on_release: root.clear_form()